进入sqlplus：Scott 、orcl

显示用户：show user
转用户：conn / as sysdba


oracle 账户解锁
以sysdba的身份进入 ：
>desc dba_users
>select username,account_status from dba_users;  //显示所有账户的状态

>alter user dip account unlock;     //给账户解锁
>alter user outln identified by orcl;    // 修改账户密码


通过试图dba_tables了解Scott用户的所有表的信息
》select table_name,tablespace_name,owner  from dba_tables where owner='dip';

通过v$instance试图了解当前数据库实例的信息
>select instance_name,host_name,status  from v$instance;
监视用户会话信息
>select sid,serial#,username,status logon_time,machine from v$session where username is not null;

用户：一种账户，分为3类：
dba数据库管理员：
数据库开发人员：编程测试
最终用户：权限最小，日常操作；

首先以Scott身份进入，在进行切换进入sys身份：conn  / as sysdba;
身份切换使用：conn 用户名/密码

一：创建用户：
选择用户名称，身份验证
步骤：
分配表空间以及大小；创建用户，授予权限；
语法：
create user 用户名
identified by 密码
[default tablespace 表空间名]
[temporary tablespace 表空间名]
[quota 数值 |unlimited on 表空间名]
[profile 文件名]
[password expire]  将用户口令设为过期，提示用户在第一次登录时更改口令
[account lock|unlock];

例如：创建用户

create  user bzw
identified by bizongwang
default tablespace bizongwang
temporary tablespace temp
quota 1024k on users
password expire
account lock;


向用户授予权限
grant 权限
to  用户
with admin option;
 授予create session权限给zyr
grant create session to zyr;
将dba系统权限分配给zyr
grant dba to zyr;


二：修改用户：修改参数，密码，口令过期，状态，用户表空间，删除用户；
语法：
  alter user 用户名 identified by 新口令；
 alter user zyr identified by zyr;
修改用户口令过期：
alter user 用户名 password expire；
解锁、上锁：
alter user 用户名 account lock|unlock；
新密码
alter user zyr identified  by zyr111;

密码过期：
alter user zyr password expire;

上锁：
alter  user  zyr account lock;

解锁：
alter  user  zyr account unlock;
修改用户的表空间：
alter user 用户名 
default tablespace users
temporary tablespace temp；
删除用户：
drop user 用户名 ；
如果该用户在数据库中创建了内容，要cascade级联删除，
drop user 用户名 cascade；  
删除用户zyr：
drop user zyr cascade； 


三：权限：在数据库中执行某种操作的能力；
分类：
系统权限：对整个Oracle的操作权限，由dba授予用户，连接创建管理所有对象；
对象权限：用户对数据库中对象的操作权限，如对某一个表的插入修改删除等权限；

系统权限：create session 连接数据库
      create/alter tablespace 创建/修改表空间
      create table……
 查看系统权限：user_sys_privs
 select * from user_sys_privs;  只能查看当前用户的系统权限；

  select * from dba_sys_privs;  能查看所有用户的系统权限；


授予权限：
系统权限的授予：
   grant 权限 to 用户名|角色 [with admin option]；
例如：
grant create session,create table to zyr with admin option;
grant dba to zyr with admin option;
收回权限：revoke 权限 from 用户名；
revoke create session, create table from zyr; 
系统权限不会级联收回；
对象权限会级联收回；

授予对象权限：
grant 对象权限 on 对象名 to 用户名|角色名 [with grant option];
 例如：授予zyr 对scott.emp表的查询权限
grant select on scott.emp to zzz with grant option;
grant update (empno,ename) on scott.emp to zyr;
 收回权限：
revoke select on scott.emp from zyr;

与对象权限有关的数据字典由4个：
user_tab_privs
user_col_privs_made
user_tab_privs_recd
user_col_privs_recd

四：角色 role，将一组相关的权限授予某一个角色，再将这个角色授予用户；
创建角色
create role 角色名 identified by 口令|not identified；
例如：创建角色，不需口令：
create role emp_manager not identified;

将对Scott.EMP的增删改查的权限授予改角色：
grant select ,update,insert,delete on scott.emp to emp_manager;
将创建连接，建表修改表查询的权限授予角色
grant create session,create table,alter table,select table  to 角色名;


将角色授予用户:
grant 角色名  to 用户名;

例：将emp_manager 角色授予zyr用户
grant emp_manager to zyr；

oracle有两个默认的角色:connect,resource
grant connect,resource to zyr;




此时,不可访问其他用户的表格,需要授权
grant 权限(select ,delete) on 用户名.表格 to 用户;
grant select ,delete on scott.dept to zyr;




















